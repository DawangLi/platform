@using Chart.Mvc.ComplexChart
@using Chart.Mvc.Extensions


@{
    Layout = "../Shared/_Layout.cshtml";
}


@section scripts{
    <script src="~/Scripts/ckeditor/ckeditor.js"></script>
}



@*@{
        Html.RenderAction("Index", string.IsNullOrEmpty(ViewBag.LoadPage) ? "Desktop" :(string) ViewBag.LoadPage);
    }*@



<div class="content-heading">

    管理平台桌面
    <small> 欢迎进入管理平台</small>
</div>



<div class="row">
    <div class="col-lg-6">
        <!-- START widget-->
        <div class="panel ">
            <div class="panel-heading">
                <div class="panel-title">网站用户注册分析</div>
            </div>

            <div class="panel-body">
                <div>
                    @{
                        var sysUserChart = new LineChart();

                        sysUserChart.ChartConfiguration.Responsive = true;

                        Dictionary<string, double> sysUserCountDay = ViewBag.SysUserCountDay;

                        sysUserChart.ComplexData.Labels.AddRange(sysUserCountDay.Keys);

                        sysUserChart.ComplexData.Datasets.AddRange(new List<ComplexDataset>
                        {
                            new ComplexDataset
                            {
                                Data = sysUserCountDay.Values.ToList(),
                                FillColor = "rgba(151,187,205,0.2)",
                                StrokeColor = "rgba(151,187,205,1)",
                                PointColor = "rgba(151,187,205,1)",
                                PointHighlightStroke = "rgba(220,220,220,1)"
                            }
                        });
                    }
                    <canvas id="sysUserChart" style="width: 100%; height: 200px"></canvas>
                    @Html.CreateChart("sysUserChart", sysUserChart)
                </div>
            </div>
        </div>
        <!-- END widget-->
    </div>

    <div class="col-lg-6">
        <!-- START widget-->
        <div class="panel ">
            <div class="panel-heading">
                <div class="panel-title">管理平台使用数据分析</div>
            </div>

            <div class="panel-body">
                <div>
                    @{
                        var sysUserLogChart = new LineChart();

                        sysUserLogChart.ChartConfiguration.Responsive = true;

                        Dictionary<string, double> sysUserLogCountDay = ViewBag.SysUserLogCountDay;

                        sysUserLogChart.ComplexData.Labels.AddRange(sysUserLogCountDay.Keys);

                        sysUserLogChart.ComplexData.Datasets.AddRange(new List<ComplexDataset>
                        {
                            new ComplexDataset
                            {
                                Data = sysUserLogCountDay.Values.ToList(),
                                FillColor = "rgba(151,187,205,0.2)",
                                StrokeColor = "rgba(151,187,205,1)",
                                PointColor = "rgba(151,187,205,1)",
                                PointHighlightStroke = "rgba(220,220,220,1)"
                            }
                        });

                    }
                    <canvas id="sysUserLogChart" style="width: 100%; height: 200px"></canvas>
                    @Html.CreateChart("sysUserLogChart", sysUserLogChart)
                </div>
            </div>
        </div>
        <!-- END widget-->
    </div>

    <div class="col-lg-6">
        <!-- START widget-->
        <div class="panel ">
            <div class="panel-heading">
                <div class="panel-title">平台执行速度分析</div>
            </div>

            <div class="panel-body">
                <div>
                    @{
                        var sysUserLogDayDurationChart = new LineChart();

                        sysUserLogDayDurationChart.ChartConfiguration.Responsive = true;

                        Dictionary<string, double> sysUserLogDayDuration = ViewBag.SysUserLogDayDuration;

                        sysUserLogDayDurationChart.ComplexData.Labels.AddRange(sysUserLogDayDuration.Keys);

                        sysUserLogDayDurationChart.ComplexData.Datasets.AddRange(new List<ComplexDataset>
                        {
                            new ComplexDataset
                            {
                                Data = sysUserLogDayDuration.Values.ToList(),
                                FillColor = "rgba(151,187,205,0.2)",
                                StrokeColor = "rgba(151,187,205,1)",
                                PointColor = "rgba(151,187,205,1)",
                                PointHighlightStroke = "rgba(220,220,220,1)"
                            }
                        });

                    }
                    <canvas id="SysUserLogDayDurationChart" style="width: 100%; height: 200px"></canvas>
                    @Html.CreateChart("SysUserLogDayDurationChart", sysUserLogDayDurationChart)
                </div>
            </div>
        </div>
        <!-- END widget-->
    </div>
</div>




